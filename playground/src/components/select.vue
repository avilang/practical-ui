<template>
  <box-component :name="`${name} - Â§öÈÄâ`">
    <p-select v-model="value" multiple :options="options" width="200px" @change="handleChange" />
  </box-component>

  <box-component :name="`${name} - ËøúÁ®ã`">
    <p-select
      v-model="value2"
      multiple
      :options="options2"
      remote
      filterable
      :throttleSearch="false"
      :loading="loading"
      width="200px"
      @change="handleChange2"
      @search="handleSearch"
    />
  </box-component>
</template>

<script setup>
import { ref } from 'vue'
import BoxComponent from './box-component.vue'

defineOptions({
  name: 'PSelectWithBox'
})

const name = 'PSelect'
const value = ref(['2', '4'])
const options = [
  {
    value: '1',
    label: 'ÈÄâÈ°π1'
  },
  {
    value: '2',
    label: 'ÈÄâÈ°π2'
  },
  {
    value: '3',
    label: 'ÈÄâÈ°π3'
  },
  {
    value: '4',
    label: 'ÈÄâÈ°π4'
  },
  {
    value: '5',
    label: 'ÈÄâÈ°π5'
  }
]

function handleChange(val) {
  console.log('üöÄ ~ handleChange ~ val:', val)
}

const value2 = ref(null)
const options2 = ref([])
const loading = ref(false)
function handleChange2(val) {
  console.log('üöÄ ~ handleChange2 ~ val:', val)
}

function handleSearch() {
  loading.value = true
  setTimeout(() => {
    options2.value = [
      { value: 1, label: 'Ë¥¶Âè∑1' },
      { value: 2, label: 'Ë¥¶Âè∑2' },
      { value: 3, label: 'Ë¥¶Âè∑3' }
    ]
    loading.value = false
  }, 1500)
}
</script>
